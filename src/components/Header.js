import React from "react";
import PropTypes from "prop-types";
import Link from "next/link";
import { useRouter } from "next/router";
import styled from "styled-components";
import Button from "components/Button";

const HeaderStyled = styled.header`
  background: #fff;
`;

const HeaderContainer = styled.div`
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  max-width: ${props => props.theme.layout.container.width};
  margin: 0 auto;
  padding: ${props => props.theme.layout.container.padding};
`;
const Header = ({ user, handleSignIn, handleSignOut }) => {
  const router = useRouter();
  const isHome = router.pathname === "/" ? true : false;

  return (
    <HeaderStyled>
      <HeaderContainer>
        <div>
          <svg
            width="57"
            height="22"
            viewBox="0 0 57 22"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M5.64 18.192C5.08 18.192 4.584 18.112 4.152 17.952C3.72 17.784 3.356 17.548 3.06 17.244C2.764 16.94 2.54 16.572 2.388 16.14C2.236 15.708 2.16 15.22 2.16 14.676V8.004H0.996C0.82 8.004 0.668 7.948 0.54 7.836C0.42 7.724 0.36 7.556 0.36 7.332V6.036L2.34 5.676L3.012 2.472C3.1 2.112 3.344 1.932 3.744 1.932H5.472V5.7H8.664V8.004H5.472V14.46C5.472 14.804 5.552 15.076 5.712 15.276C5.88 15.476 6.116 15.576 6.42 15.576C6.58 15.576 6.716 15.56 6.828 15.528C6.94 15.488 7.036 15.448 7.116 15.408C7.196 15.36 7.268 15.32 7.332 15.288C7.404 15.248 7.476 15.228 7.548 15.228C7.644 15.228 7.724 15.252 7.788 15.3C7.852 15.34 7.916 15.412 7.98 15.516L8.976 17.1C8.52 17.46 8.004 17.732 7.428 17.916C6.852 18.1 6.256 18.192 5.64 18.192ZM13.5463 7.668C13.9383 6.964 14.3903 6.408 14.9023 6C15.4143 5.592 16.0143 5.388 16.7023 5.388C17.2623 5.388 17.7183 5.52 18.0703 5.784L17.8543 8.232C17.8143 8.392 17.7503 8.504 17.6623 8.568C17.5823 8.624 17.4703 8.652 17.3263 8.652C17.1983 8.652 17.0143 8.636 16.7743 8.604C16.5343 8.564 16.3103 8.544 16.1023 8.544C15.7983 8.544 15.5263 8.588 15.2863 8.676C15.0543 8.764 14.8463 8.888 14.6623 9.048C14.4783 9.208 14.3103 9.404 14.1583 9.636C14.0143 9.868 13.8783 10.132 13.7503 10.428V18H10.4383V5.628H12.3943C12.7303 5.628 12.9623 5.688 13.0903 5.808C13.2183 5.928 13.3103 6.136 13.3663 6.432L13.5463 7.668ZM22.8932 5.628V18H19.5812V5.628H22.8932ZM23.2892 2.112C23.2892 2.392 23.2332 2.652 23.1212 2.892C23.0092 3.132 22.8572 3.344 22.6652 3.528C22.4812 3.712 22.2612 3.856 22.0052 3.96C21.7572 4.064 21.4892 4.116 21.2012 4.116C20.9292 4.116 20.6692 4.064 20.4212 3.96C20.1812 3.856 19.9692 3.712 19.7852 3.528C19.6012 3.344 19.4532 3.132 19.3412 2.892C19.2372 2.652 19.1852 2.392 19.1852 2.112C19.1852 1.832 19.2372 1.572 19.3412 1.332C19.4532 1.084 19.6012 0.867999 19.7852 0.683999C19.9692 0.499999 20.1812 0.355999 20.4212 0.251999C20.6692 0.147999 20.9292 0.0959988 21.2012 0.0959988C21.4892 0.0959988 21.7572 0.147999 22.0052 0.251999C22.2612 0.355999 22.4812 0.499999 22.6652 0.683999C22.8572 0.867999 23.0092 1.084 23.1212 1.332C23.2332 1.572 23.2892 1.832 23.2892 2.112ZM29.0316 14.736C29.3436 15.096 29.6796 15.348 30.0396 15.492C30.4076 15.636 30.7996 15.708 31.2156 15.708C31.6156 15.708 31.9796 15.632 32.3076 15.48C32.6356 15.328 32.9156 15.092 33.1476 14.772C33.3876 14.444 33.5716 14.028 33.6996 13.524C33.8276 13.02 33.8916 12.42 33.8916 11.724C33.8916 11.036 33.8356 10.452 33.7236 9.972C33.6196 9.492 33.4676 9.104 33.2676 8.808C33.0756 8.512 32.8396 8.3 32.5596 8.172C32.2796 8.036 31.9676 7.968 31.6236 7.968C31.0396 7.968 30.5476 8.084 30.1476 8.316C29.7556 8.54 29.3836 8.872 29.0316 9.312V14.736ZM28.8396 7.248C29.0876 6.976 29.3516 6.728 29.6316 6.504C29.9116 6.272 30.2116 6.076 30.5316 5.916C30.8516 5.748 31.1956 5.62 31.5636 5.532C31.9316 5.436 32.3316 5.388 32.7636 5.388C33.4276 5.388 34.0356 5.532 34.5876 5.82C35.1476 6.1 35.6276 6.512 36.0276 7.056C36.4276 7.592 36.7396 8.252 36.9636 9.036C37.1876 9.82 37.2996 10.716 37.2996 11.724C37.2996 12.652 37.1716 13.512 36.9156 14.304C36.6676 15.088 36.3116 15.768 35.8476 16.344C35.3836 16.92 34.8236 17.372 34.1676 17.7C33.5196 18.02 32.7956 18.18 31.9956 18.18C31.3236 18.18 30.7516 18.08 30.2796 17.88C29.8156 17.68 29.3996 17.408 29.0316 17.064V21.996H25.7196V5.628H27.7596C28.1756 5.628 28.4516 5.82 28.5876 6.204L28.8396 7.248ZM42.7665 0.107999V18H39.4545V0.107999H42.7665ZM56.9963 5.628L50.3242 21.324C50.2203 21.548 50.0923 21.716 49.9403 21.828C49.7963 21.94 49.5643 21.996 49.2443 21.996H46.7843L49.1243 17.004L44.1562 5.628H47.0603C47.3243 5.628 47.5283 5.688 47.6723 5.808C47.8163 5.928 47.9203 6.068 47.9843 6.228L50.3363 12.144C50.4243 12.376 50.5003 12.612 50.5643 12.852C50.6363 13.084 50.7043 13.316 50.7682 13.548C50.9123 13.076 51.0763 12.604 51.2603 12.132L53.4443 6.228C53.5083 6.052 53.6243 5.908 53.7923 5.796C53.9603 5.684 54.1443 5.628 54.3443 5.628H56.9963Z"
              fill="#233165"
            />
          </svg>
        </div>
        <div>
          {!user && <Button action={handleSignIn} label="Sign in" />}
          {user && <Button action={() => handleSignOut} label="Sign out" />}
        </div>
        {!isHome && (
          <nav>
            <ul>
              <li>
                <Link href="/">
                  <a>Back home</a>
                </Link>
              </li>
            </ul>
          </nav>
        )}
      </HeaderContainer>
    </HeaderStyled>
  );
};

Header.propTypes = {
  user: PropTypes.object,
  handleSignIn: PropTypes.func,
  handleSignOut: PropTypes.func
};

export default Header;
